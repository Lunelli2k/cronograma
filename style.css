   :root { --bg: #f6f8fa; --card-bg: #ffffff; --text-primary: #0f172a; --text-secondary: #6b7280; --border-color: #e6edf3; --accent: #0ea5a4; --accent-hover: #0d9488; --danger: #ef4444; --danger-hover: #dc2626; --done-opacity: 0.6; --shadow: 0 4px 12px rgba(2, 6, 23, 0.08); --font-family: Inter, Segoe UI, Roboto, Helvetica, Arial, sans-serif; }
    [data-theme="dark"] { --bg: #0d1117; --card-bg: #161b22; --text-primary: #c9d1d9; --text-secondary: #8b949e; --border-color: #30363d; --accent: #2dd4bf; --accent-hover: #5eead4; --danger: #f87171; --danger-hover: #ef4444; }
    * { box-sizing: border-box; }
    body { font-family: var(--font-family); margin: 0; background: var(--bg); color: var(--text-primary); transition: background 0.2s ease, color 0.2s ease; }
    header { background: var(--card-bg); border-bottom: 1px solid var(--border-color); padding: 14px 20px; display: flex; align-items: center; gap: 18px; }
    header .title { font-weight: 600; font-size: 18px; }
    .top-meta { margin-left: auto; text-align: right; }
    .container { padding: 18px; max-width: 1600px; margin: 0 auto; }
    .card { background: var(--card-bg); border-radius: 12px; padding: 16px; box-shadow: var(--shadow); border: 1px solid var(--border-color); }
    .boards-list { display: flex; flex-direction: column; gap: 8px; }
    .board-item { padding: 10px; display: flex; justify-content: space-between; align-items: center; border-radius: 8px; cursor: pointer; border: 1px solid var(--border-color); transition: all 0.2s ease; }
    .board-item:hover { background: var(--bg); }
    .board-item.active { background: var(--accent); color: white; font-weight: 500; border-color: var(--accent); }
    .task-item { display: flex; align-items: center; gap: 12px; padding: 10px; border-radius: 8px; margin-bottom: 6px; transition: background 0.2s ease; }
    .task-item:hover { background: var(--bg); }
    .task-item.done { opacity: var(--done-opacity); }
    .task-item.done .task-title { text-decoration: line-through; }
    .task-item .task-time { font-weight: 500; font-size: 14px; background: var(--bg); padding: 4px 8px; border-radius: 6px; }
    .task-item .task-title { flex-grow: 1; }
    .task-item input[type="checkbox"] { flex-shrink: 0; width: 18px; height: 18px; cursor: pointer; accent-color: var(--accent); }
    .small { font-size: 13px; color: var(--text-secondary); }
    input, select, button { padding: 10px; border-radius: 8px; border: 1px solid var(--border-color); background: var(--card-bg); color: var(--text-primary); font-family: inherit; }
    button { cursor: pointer; font-weight: 500; transition: background 0.2s ease, transform 0.1s ease; }
    .danger { background: var(--danger); color: white; border: none; }
    .accent { background: var(--accent); color: white; border: none; }
    #flow-view, #management-view, #boards-view { display: none; }
    #flow-diagram-container { border: 2px solid var(--accent); display: flex; align-items: center; justify-content: center; padding: 10px; min-height: 450px; }
    #mermaid-diagram svg { max-width: 100%; height: auto; }
    #management-grid { display: grid; grid-template-columns: 280px 1fr; gap: 18px; }
    .day-tabs, .flow-tabs { display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 12px; border-bottom: 1px solid var(--border-color); }
    .tab-button { padding: 10px 16px; cursor: pointer; border: none; background: transparent; color: var(--text-secondary); border-bottom: 3px solid transparent; margin-bottom: -1px; }
    .tab-button.active { color: var(--accent); font-weight: 600; border-bottom-color: var(--accent); }
    .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; z-index: 1000; opacity: 0; pointer-events: none; transition: opacity 0.2s ease; }
    .modal-overlay.visible { opacity: 1; pointer-events: auto; }
    .modal-content { background: var(--card-bg); padding: 24px; border-radius: 12px; min-width: 300px; max-width: 90%; text-align: center; transform: scale(0.95); transition: transform 0.2s ease; }
    .modal-overlay.visible .modal-content { transform: scale(1); }
    .modal-content input, .modal-content select { width: 100%; margin-bottom: 8px; }
    .modal-buttons { margin-top: 20px; display: flex; justify-content: center; gap: 12px; }
    @media(max-width: 1024px) { #management-grid { grid-template-columns: 1fr; } }
    .theme-switch-wrapper { display: flex; align-items: center; gap: 8px; } .theme-switch { display: inline-block; height: 24px; position: relative; width: 44px; } .theme-switch input { display: none; } .slider { background-color: #ccc; bottom: 0; cursor: pointer; left: 0; position: absolute; right: 0; top: 0; transition: .4s; border-radius: 34px; } .slider:before { background-color: #fff; bottom: 4px; content: ""; height: 16px; left: 4px; position: absolute; transition: .4s; width: 16px; border-radius: 50%; } input:checked + .slider { background-color: var(--accent); } input:checked + .slider:before { transform: translateX(20px); }

    #mermaid-diagram .node rect {min-width: 150px; min-height: 50px;
    }

    #mermaid-diagram .node .label { white-space: pre-wrap !important; word-wrap: break-word; max-width: 200px; }

    #mermaid-diagram .node foreignObject { overflow: visible !important;}
    